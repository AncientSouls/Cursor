{"version":3,"sources":["../src/tests/react.jsx"],"names":["it","Markup","props","cursor","get","Component","undefined","a","b","c","e","Container","onData","on","before","after","data","w","equal","html","set","require","install","BundlesQueue","id","task","done"],"mappings":"ilBA0Be,UAAW,CACxBA,GAAG,yBAAH,CAA8B,UAAM,IAC5BC,OAD4B,wRAEvB,CACP,MAAO,0CAAM,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,GAAlB,CAAsB,UAAtB,CAAN,CACR,CAJ+B,mBACb,gBAAMC,SADO,EAOlC,GAAIF,QAAS,gBAAWG,SAAX,CAAsB,CAAEC,EAAG,CAAEC,EAAG,CAAC,CAAEC,EAAG,GAAL,CAAD,CAAa,CAAEC,EAAG,GAAL,CAAb,CAAL,CAAL,CAAtB,CAAb,CAEA,GAAIC,WAAY,2BAAQ,SAACT,KAAD,CAAQU,MAAR,CAAmB,CACzCA,OAAO,IAAP,CAAaV,MAAMC,MAAN,CAAaC,GAAb,EAAb,EACA,MAAOF,OAAMC,MAAN,CAAaU,EAAb,CAAgB,EAAhB,CAAoB,SAACC,MAAD,CAASC,KAAT,CAAmB,CAC5CH,OAAO,IAAP,CAAa,CAAEI,KAAMD,KAAR,CAAb,CACD,CAFM,CAGR,CALe,EAKbd,MALa,CAAhB,CAOA,GAAIgB,GAAI,oBAAQ,8BAAC,SAAD,EAAW,OAAQd,MAAnB,EAAR,CAAR,CACA,aAAOe,KAAP,CAAaD,EAAEE,IAAF,EAAb,CAAuB,cAAvB,EACAhB,OAAOiB,GAAP,CAAW,UAAX,CAAuB,GAAvB,EACA,aAAOF,KAAP,CAAaD,EAAEE,IAAF,EAAb,CAAuB,cAAvB,CACD,CApBD,CAqBD,C,CA9CD,0BACA,2BAOA,8B,6CACA,4B,2CAEA,4B,2CACA,8BACA,6C,63BAfAE,QAAQ,oBAAR,EAA8BC,OAA9B,G,GAmBMC,a,mUACKC,E,CAAIC,I,CAAMC,I,CAAM,CACvBD,OACAC,MACD,C","file":"react.js","sourcesContent":["require('source-map-support').install();\n\nimport { assert } from 'chai';\nimport {\n  Cursor,\n  BundlesQueue as BundlesQueueProto,\n  CursorsManager,\n  executeBundle,\n  executers,\n} from '../lib';\nimport lodash from 'lodash';\nimport mingo from 'mingo';\n\nimport React from 'react';\nimport { shallow, mount } from 'enzyme';\nimport {\n  compose,\n} from 'react-komposer';\n\nclass BundlesQueue extends BundlesQueueProto {\n  _handler(id, task, done) {\n    task();\n    done();\n  }\n}\n\nexport default function() {\n  it('react compose container', () => {\n    class Markup extends React.Component {\n      render() {\n        return <div>{this.props.cursor.get('a.b[0].c')}</div>;\n      }\n    }\n    \n    var cursor = new Cursor(undefined, { a: { b: [{ c: 'd' }, { e: 'f' }] } });\n    \n    var Container = compose((props, onData) => {\n      onData(null, props.cursor.get());\n      return props.cursor.on('', (before, after) => {\n        onData(null, { data: after });\n      })\n    })(Markup)\n    \n    var w = shallow(<Container cursor={cursor}/>);\n    assert.equal(w.html(), '<div>d</div>');\n    cursor.set('a.b[0].c', 'j');\n    assert.equal(w.html(), '<div>j</div>');\n  });\n}"]}